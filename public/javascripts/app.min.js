var myApp=angular.module("myApp",["ui.router","appRoutes","homeController"]);myApp.run(function($rootScope,$state,$http){$http.defaults.headers.common.auth="ljpon3UUVTMMmIhE6Kcf",$rootScope.imagePath="http://zhuhaolin.com/images/",$rootScope.$on("$stateChangeSuccess",function(){$rootScope.bodyClass=$state.current.controller,$rootScope.title=$state.current.title})});var homeController=angular.module("homeController",[]);homeController.controller("homeController",function($scope,$state){}),homeController.directive("ngHome",function(){return{restrict:"A",replace:!0,link:function(scope,element,attrs){function startCarousel(){var carousel=$("[data-app-index='carousel']"),carouselSlide=$("[data-slide]",carousel);carousel.carousel({pause:"false"}),carouselSlide.click(function(e){e.preventDefault()})}function backgroundLoad(src){var loadingMask=$("[data-app-index='loadingMask']"),loadingProgress=$("[data-app-index='loadingProgress']",loadingMask),image=new Image;$(image).attr("src",src).bind("load",function(){var percentage=Math.floor(count/length*100);loadingProgress.css("width",percentage+"%").text(percentage+"%").attr("aria-valuenow",percentage),100==percentage&&setTimeout(function(){loadingMask.fadeOut(),startCarousel()},300)})}for(var backgroundImages=["73ad5a84dcefe956276f1bd07c6316dd.jpg","66a7d162d0bdf9aa302e280cbb5d90d6.jpg","a15bc6b5656eb67d2e0cde3c2e7f583a.jpg","abb4387b620523942e197d39bf38b611.jpg","566b87a4710605f312ec139dcd71088a.jpg","5233e5089e1ff5fff7a85c8aa13304ff.jpg"],length=backgroundImages.length,count=0,i=0;length>i;i++){var src=scope.imagePath+backgroundImages[i];count++,backgroundLoad(src)}}}}),angular.module("appRoutes",[]).config(function($stateProvider,$urlRouterProvider,$locationProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("index",{url:"/",templateUrl:"/views/index.html",controller:"homeController",title:"Home"}),$locationProvider.html5Mode({enabled:!0,requireBase:!1})});